# 캠퍼스 헬퍼 - 배재대학교 시간표 웹앱

배재대학교 2025학년도 2학기 강의 시간표 기반 종합 정보 제공 SPA (Single Page Application)

## 📋 프로젝트 개요

- **목적**: 배재대학교 학생들이 빈 강의실 검색, 교수님 시간표 조회, 캠퍼스 혼잡도 확인 등을 한 곳에서 편리하게 이용
- **기술 스택**: Vanilla JavaScript, HTML5, CSS3, Chart.js
- **데이터 소스**: PDF 강의시간 편람 → JSON 파싱
- **배포**: GitHub Pages (정적 호스팅)

## 🎯 주요 기능

### 1. 🏠 실시간 현황 (홈 대시보드)
- **Quick Access 그리드**: 4개 주요 기능 바로가기 카드
  - 빈 강의실 검색
  - 스케줄 조회
  - 캠퍼스 혼잡도
  - 점심 룰렛
- **실시간 통계**:
  - 현재 시각 기준 사용 중인 강의실 수
  - 빈 강의실 수
  - 전체 강의실 수
- **진행 중인 강의 목록**: 현재 시간대 강의 카드 표시

### 2. 🔍 빈 강의실 검색
- **요일 선택**: 월~토요일 드롭다운
- **시간 선택**: 
  - 교시별 버튼 (1~7교시, 야간)
  - 커스텀 시간 입력 (time picker)
- **검색 결과**: 선택한 요일/시간에 비어있는 강의실 목록
- **표시 정보**: 건물명, 강의실 호수

### 3. 🗓️ 스케줄 조회
다양한 검색 타입 지원:

#### 3-1. 학과별 검색
- 학과명/단과대학명으로 검색
- 해당 학과의 전체 강의 목록 표시

#### 3-2. 교수별 검색
- 교수님 이름으로 검색
- 담당 강의 목록 표시

#### 3-3. 강의실별 검색
- 건물명/강의실 호수로 검색
- 해당 강의실 사용 스케줄 표시

#### 3-4. 과목명 검색
- 과목명 키워드 검색
- 일치하는 과목의 전체 분반 표시

#### 3-5. 교수님 시간표 (⭐ 주요 기능)
- **드롭다운**: 443명 교수님 목록에서 선택
- **비율형 시간표 그리드**:
  - 30분 단위 그리드 (09:00~18:00)
  - 월~금 5일 표시
  - 실제 수업 시간에 비례한 블록 크기
- **통계 카드**:
  - 담당 과목 수
  - 총 강의 수
  - 사용 건물 수
- **반응형 디자인**:
  - 모바일: 자동 스케일 축소로 한 화면에 전체 표시
  - 데스크톱: 넓은 그리드 레이아웃, 그라데이션 블록

#### 3-6. 교수명 누락 강의
- 데이터 품질 관리용
- 교수명이 누락된 강의 목록 표시

### 4. 📊 캠퍼스 혼잡도
- **Chart.js 막대 그래프**: 건물별 강의 개설 현황
- **반응형 차트**:
  - 모바일(< 768px): 가로 막대 차트 (indexAxis: 'y')
  - 데스크톱: 세로 막대 차트 (indexAxis: 'x')
- **색상**: 그라데이션 팔레트 (10가지 색상)

### 5. 🍔 점심 룰렛
- **랜덤 맛집 추천**: 배재대 주변 20개 맛집 DB
- **애니메이션**: 1.5초 로딩 효과
- **표시 정보**:
  - 맛집 이름
  - 음식 분류 (한식, 중식, 일식, 패스트푸드 등)
  - 추천 메뉴

## 🏗️ 프로젝트 구조

```
pcu_app/
├── index.html                          # 메인 SPA 파일 (HTML + CSS + JS)
├── timetable_final.json                # 원본 추출 데이터 (4,238개 레코드)
├── timetable_project.json              # 정제된 프로젝트용 데이터 (구버전, 사용 안 함)
├── timetable_flat.json                 # 분석용 평탄화 데이터
│
├── process_pdf.py                      # PDF → JSON 추출 스크립트
├── normalize_timetable.py              # 데이터 정규화 스크립트
├── build_project_dataset.py            # 프로젝트용 데이터 빌드 (구버전)
├── crosscheck_courses.py               # 데이터 품질 검증
│
├── subject_aliases.json                # 과목명 별칭 매핑
├── dept_prefix_rules.json              # 학과 접두어 규칙
│
└── 붙임5 2025-2학기 강의시간 편람_250808_1600.pdf  # 원본 PDF
```

## 📊 데이터 구조

### timetable_final.json 스키마
```json
{
  "code": "GEN22105",           // 교과목 코드
  "subject": "글쓰기와읽기",      // 과목명
  "professor": "홍길동",         // 담당 교수
  "classroom": "W406",          // 강의실 호수
  "building_code": "W",         // 건물 코드
  "building_name": "우남관",     // 건물명 (매핑 적용)
  "day": "MON",                 // 요일 (MON/TUE/WED/THU/FRI/SAT)
  "start": "09:30",             // 시작 시각 (HH:MM)
  "end": "10:45",               // 종료 시각 (HH:MM)
  "department": "교양",          // 학과/부서
  "college": "교양"              // 단과대학
}
```

### 건물 코드 매핑
```javascript
{
  "A": "아펜젤러관", "C": "정보과학관", "P": "21세기관",
  "PU": "21세기관지하", "MC": "미래창조관", "W": "우남관",
  "H": "하워드관", "J": "자연과학관", "JU": "자연과학관지하",
  "PAU": "국제언어생활관지하", "AM": "아펜젤러기념관",
  "DC": "대덕산학협력관", "DS": "대덕산학협력관",
  "B": "백산관", "G": "국제교류관", "S": "소월관",
  "Y": "예술관", "F": "서재필관", "SP": "SMART배재관",
  "HM": "하워드기념관", "K": "김옥균관"
}
```

## 🎨 UI/UX 특징

### 디자인 시스템
- **컬러 팔레트**: 그라데이션 (#667eea → #764ba2)
- **타이포그래피**: Segoe UI, 시스템 폰트
- **아이콘**: 이모지 기반 (🏠 🔍 🗓️ 📊 🍔)

### 반응형 디자인
- **모바일 우선**: Mobile-first CSS 접근
- **브레이크포인트**: 768px
- **모바일 네비게이션**: 햄버거 메뉴 + 토글
- **터치 최적화**: -webkit-overflow-scrolling: touch

### 애니메이션
- **페이지 전환**: fadeIn 애니메이션 (0.5s ease-in-out)
- **호버 효과**: translateY, scale, box-shadow 트랜지션
- **카드 애니메이션**: 0.3s ease 트랜지션

## 🚀 실행 방법

### 로컬 개발 서버
```bash
# Python 내장 HTTP 서버 (포트 8080)
cd /Users/siu/Documents/파이썬/pcu_app
python3 -m http.server 8080

# 브라우저에서 접속
# http://localhost:8080
```

### GitHub Pages 배포
1. GitHub 저장소 생성
2. `index.html` 및 `timetable_final.json` 업로드
3. Settings > Pages > Source: main branch 선택
4. 자동 배포 완료

## 📱 브라우저 지원

- ✅ Chrome (권장)
- ✅ Safari
- ✅ Firefox
- ✅ Edge
- ⚠️ IE11 미지원 (ES6+ 문법 사용)

## 🔧 데이터 갱신 방법

### 1. PDF에서 데이터 추출
```bash
# 가상환경 활성화 (선택)
source .venv/bin/activate

# PDF 파싱 실행
python process_pdf.py
# → timetable_flat.json 생성
```

### 2. 데이터 정규화
```bash
python normalize_timetable.py
# timetable_final.json → timetable_flat.json 정규화
```

### 3. 웹앱에 반영
- `timetable_final.json` 파일만 교체하면 자동 반영
- 건물명 매핑은 `index.html` 내 `BUILDING_NAME_MAP`에서 관리

## 📈 통계

- **총 데이터**: 4,238개 강의 세션
- **교수님**: 443명
- **건물**: 21개 건물
- **강의실**: 다수 (중복 제거 후 집계)
- **요일**: 월~금 (토요일 일부 포함)
- **시간대**: 08:00 ~ 22:15

## 🐛 알려진 이슈

1. **교수님 시간표 겹침**: 같은 시간대에 여러 강의 있을 경우 블록이 겹쳐 보임
   - 해결 방안: z-index 또는 오프셋 적용 필요

2. **모바일 축소 가독성**: 매우 작은 화면에서 텍스트 읽기 어려움
   - 해결 방안: 최소 스케일 제한(0.75) 또는 탭 기반 UI

3. **데이터 품질**: 일부 강의에서 교수명/강의실 누락
   - 원본 PDF 데이터 한계

## 🛠️ 기술 세부사항

### SPA 내비게이션
- `data-target` 속성 기반 섹션 전환
- `.section-hidden` 클래스로 표시/숨김
- History API 미사용 (단순 클라이언트 상태 관리)

### 시간표 렌더링
- **30분 단위 그리드**: CSS Grid 사용
- **동적 행 계산**: `rowIndexFor()`, `spanRowsFor()` 함수
- **비례 블록**: `grid-row: start / span duration` 스타일

### 자동 스케일링
- `transform: scale()` + `requestAnimationFrame`
- 컨테이너 너비 기준 동적 계산
- resize/orientationchange 이벤트 리스너

## 👥 기여

배재대학교 학생 개발 프로젝트

## 📄 라이선스

MIT License (또는 프로젝트에 맞게 수정)

## 📞 문의

- GitHub Issues를 통해 버그 리포트/기능 요청
- 배재대학교 관련 문의: 해당 부서 연락

---

**최종 업데이트**: 2025년 11월 2일  
**버전**: 1.0.0  
**데이터 기준**: 2025학년도 2학기
